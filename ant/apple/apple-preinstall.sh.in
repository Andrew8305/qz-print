#!/bin/bash
###############################################################################
#                         ${socket.name} Apple OS X Preinstall                       #
###############################################################################
#  Description:                                                               #
#    1. Checks for minimum Java version                                       #
#    2. Kills any running instances                                           #
#                                                                             #
#  Usage:                                                                     #
#    $ ./preinstall                                                           #
###############################################################################

# Use java_home command to check minimum Java version
${apple.jvmver}

code=$?

# Kill any running versions
kill -9 $(ps -e |grep "${build.socket.name}.jar" |grep -v grep|awk '{print $1}') > /dev/null 2>&1
exit $code
